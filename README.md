# Helpers

## Содержание
- [Timer](#timer)
- [Slide](#simer)
- [BodyLock](#bodyLock)

## Timer
Счетчик в миллисекундах. Замена `setTimeout` с использованием `requestAnimationFrame` и объекта `Date`.
Использует статичный метод.

### Метод
* `start( {func, duration, returnValue} )` - функция запуска отсчета. Возвращает промис.
  - `func` - функция, которая будет срабатывать каждый шаг;
  - `duration` - время выполнения;
  - `returnValue` - значение, которое будет передаваться в промис.

### Пример
```js
await Timer.start({ duration: 500 })
// Код, который будет выполняться после
```
```js
async function timer(duration) {
  await Timer.start({ duration })
  // Код, который будет выполняться после
}
```
```js
Timer.start({
  func: time => {
    console.log('Step')
  },
  duration,
})
.then(()=> {
  // Код, который будет выполняться после
}) 
```

## Slide
Анимированное под слайд `display: none;`. Для работы необходим `Timer.js`. Использует статичные методы.

### Методы
* `close(target[, duration])` - скрытие элемента. Возвращает промис.
  - `target` - элемент, который будет скрываться;
  - `duration` - время выполнения. Необязательный параметр. По умолчанию `500`;
* `open(target[, duration])` - появление элемента. Возвращает промис.
  - `target` - элемент, который будет скрываться;
  - `duration` - время выполнения. Необязательный параметр. По умолчанию `500`;
* `toggle(target[, duration])` - появление/скрытие элемента. Возвращает промис.
  - `target` - элемент, который будет скрываться;
  - `duration` - время выполнения. Необязательный параметр. По умолчанию `500`.

### Пример
```js
await Slide.open(element)
// Код, который будет выполняться после
```
```js
async function slideElement(element) {
  await Slide.close(element)
  // Код, который будет выполняться после
}
```
```js
Slide.toggle(element)
.then(()=> {
  // Код, который будет выполняться после
}) 
```

## BodyLock
Блокировка скролла на странице. При блокировке добавляется класс `lock` для элемента `window`.
Если есть элементы с фиксированным позиционирвоанием (`position: fixed;`), то им стоит указать атрибут `data-lp`.

### Методы
* `on()` - блокирует скролл;
* `off()` - разблокирует скролл;
* `toggle()` - блокирует/разблокирует скролл.
